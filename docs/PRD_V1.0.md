### **产品需求文档 (PRD) - 孕期陪护机器人“孕小宝” V1.0**

| 文档名称 | 孕期陪护机器人“孕小宝” V1.0 产品需求文档 |
| :--- | :--- |
| **版本号** | **V1.0 (修订版)** |
| **创建日期** | 2025年08月05日 |
| **作者** | 您 |
| **状态** | **确认** |

---

### **1. 项目背景与目标**

#### **1.1 项目背景**
妻子进入怀孕周期，作为准爸爸，希望利用 AI 技术打造一款专属的、名为“**孕小宝**”的聊天机器人。旨在为妻子提供一个权威、贴心、个性化的信息获取和支持工具，同时方便家庭成员科学、协同地参与到孕期陪护中，缓解准妈妈的信息焦虑和情绪波动。

#### **1.2 产品愿景**
成为家庭孕期陪护的智能核心，连接家人，传递关爱，让科技充满温度。

#### **1.3 V1.0 核心目标**
**上线一个稳定、可靠的智能问答机器人。** 机器人能够通过飞书私聊指令进行核心档案管理，并在家庭群中基于个人档案和当前孕周，为提问提供个性化、有依据的回答。

#### **1.4 V1.0 范围边界**
| **V1.0 包含功能 (In Scope)** | **V1.0 暂不包含功能 (Out of Scope)** |
| :--- | :--- |
| ✅ 核心智能问答引擎 | ❌ 主动发送的提醒与日程管理（如产检、吃药提醒） |
| ✅ **通过机器人指令管理核心孕妇档案** | ❌ 日常数据记录与追踪功能（如体重、症状、胎动记录） |
| ✅ 孕周自动计算与展示 | ❌ 紧急情况关键词识别与告警 |
| ✅ 所有回答后附带“AI建议仅供参考”声明 | ❌ 情感支持的增强功能（如发送卡片、互动游戏） |
| | ❌ 复杂的消息卡片样式和数据可视化图表 |

---

### **2. 用户画像与使用场景**

| **用户角色** | **核心需求与痛点** | **V1.0 使用场景示例** |
| :--- | :--- | :--- |
| **准妈妈（核心用户）** | - 对孕期各种“能不能做/吃”充满疑问<br>- 信息过载，真假难辨，容易焦虑<br>- 希望获得即时、可靠且针对自身情况的解答 | 在家庭群里@**孕小宝**：“我现在孕晚期了，有点脚肿，可以泡脚吗？” |
| **准爸爸（管理员）** | - 希望科学地支持妻子，而不是帮倒忙<br>- 负责项目维护和核心数据录入<br>- 希望家庭成员获得一致、科学的育儿观 | 1. **私聊**对**孕小宝**发送指令：`/更新档案 食物过敏=虾,芒果`。<br>2. 在群里看到家人问“要不要多吃点虾补补？”，**孕小宝**能给出基于档案的正确建议。 |
| **其他家人（如祖辈）** | - 关心孕妇和胎儿，经验丰富但可能与现代医学有出入<br>- 希望参与进来，但怕好心办坏事 | 在家庭群里@**孕小宝**：“怀孕了是不是一点都不能碰手机？” |

---

### **3. V1.0 功能需求详述**

#### **FR-1.0: 核心智能问答引擎**
*   **功能描述：** 在飞书群聊中，任何成员@**孕小宝**并提出孕期相关问题，机器人应能理解问题意图，并结合孕妇档案和当前孕周，生成个性化回复。
*   **触发方式：** 在已添加机器人的飞书群中 `@孕小宝 + 问题内容`。
*   **核心逻辑：**
    1.  接收并解析用户问题。
    2.  从数据库中读取【孕妇档案】。
    3.  调用内部函数计算【当前孕周】。
    4.  将【系统角色设定】+【孕妇档案】+【当前孕周】+【用户问题】整合为完整的 Prompt。
    5.  调用大语言模型（LLM）API 获取回答。
    6.  在回答末尾强制追加免责声明。
    7.  将最终内容回复到飞书群。
*   **验收标准：**
    *   **[AC-1.1]** 当被@时，机器人必须响应。
    *   **[AC-1.2]** 回答必须与当前孕周相关联。例：提问“能运动吗？”，回答应包含“您现在 XX 周，属于孕中期...”。
    *   **[AC-1.3]** 回答必须与个人档案相关联。例：档案记录“对虾过敏”，提问“能吃海鲜吗？”，回答必须提示“档案显示您对虾过敏...”。
    *   **[AC-1.4]** 每条医疗/健康相关的回答末尾，必须清晰地附带“**【孕小宝提示】AI建议仅供参考，具体请遵医嘱。**”或类似声明。

#### **FR-2.0: 孕周自动计算**
*   **功能描述：** 系统能根据档案中存储的预产期，自动计算出当前的准确孕周（如：第28周+3天）。
*   **核心逻辑：** 这是一个核心内部函数，供智能问答引擎调用，以确保所有回答都基于正确的孕期阶段。
*   **验收标准：**
    *   **[AC-2.1]** 给定一个预产期，系统计算出的孕周与标准孕期计算器结果一致。

#### **FR-3.0: 孕妇档案管理 (指令交互)**
*   **功能描述：** 提供特定指令，允许管理员（准爸爸）通过与机器人**私聊**的方式，对核心孕妇档案进行查看和更新。
*   **交互原则：** 为保护隐私，所有档案的查看和修改操作必须在**与机器人的私聊窗口**中进行，机器人不应在群聊中响应此类指令或泄露档案内容。
*   **指令详述：**
    *   **查看档案指令：` /查看档案 `**
        *   **触发方式：** 管理员在私聊窗口发送 `/查看档案`。
        *   **机器人响应：** 以清晰的格式，私聊返回当前存储的所有档案信息。
    *   **更新档案指令：` /更新档案 [类别]=[内容] `**
        *   **触发方式：** 管理员在私聊窗口发送指令。例：`/更新档案 食物过敏=虾,芒果` 或 `/更新档案 产检医院=XX市妇幼保健院`。
        *   **机器人响应：** 在私聊窗口回复“档案更新成功！”或类似确认信息。
*   **验收标准：**
    *   **[AC-3.1]** 在群聊中发送管理指令，机器人应不予响应或提示“请私聊我进行操作”。
    *   **[AC-3.2]** 管理员通过私聊发送 `/查看档案`，能收到完整的档案信息。
    *   **[AC-3.3]** 管理员通过私聊发送 `/更新档案` 指令后，数据成功写入数据库，且后续的问答能体现出档案的更新。

---

### **4. 数据需求 (产品视角)**

本部分从产品和用户视角，列出 V1.0 为实现个性化问答所**必须了解**的信息类别。具体的数据库字段定义、数据类型和约束，将在**《技术设计文档》**中详细说明。

*   **预产期** (核心，用于计算孕周)
*   **食物过敏史**
*   **药物过敏史**
*   **既往病史或特殊健康状况** (如高血压、甲状腺问题等)
*   **血型**
*   **饮食偏好或禁忌** (如不吃辣、素食等)
*   **运动习惯或偏好** (如孕期瑜伽、游泳等)
*   **产检医院名称**

**隐私原则：** **孕小宝**在群内的回答，应基于这些数据得出“结论”或“建议”，而**绝不能**直接在群内**暴露**原始的、具体的健康数据（如“因为您有甲减，所以...”）。

---

### **5. 非功能性需求**

| 类别 | 需求描述 |
| :--- | :--- |
| **性能 (Performance)** | - **响应时间：** 从用户@机器人到收到完整回复，平均时间应在10秒以内。 |
| **可靠性 (Reliability)**| - **服务可用性：** V1.0 部署后，应保证服务稳定在线，避免频繁掉线。 |
| **可用性 (Usability)** | - **交互简单：** 用户仅需通过自然的语言提问和简单的指令即可交互。 |
| **安全性与隐私 (Security & Privacy)** | - **数据保密：** 所有含个人健康信息的数据，必须安全存储，严禁泄露。API Key等密钥信息不得硬编码。 |
| **机器人格调 (Tone of Voice)** | - 回答的语气必须是：**权威的、温暖的、积极的、共情的**。严禁使用可能引发焦虑、恐慌或模棱两可的负面词汇。 |

---

### **6. 修订历史**

| 版本号 | 修订日期 | 修订人 | 修订说明 |
| :--- | :--- | :--- | :--- |
| V1.0 (修订版) | 2025-08-05 | 您 | 1. 机器人正式命名为“孕小宝”。<br>2. 明确数据需求仅为产品视角，技术细节移至技术文档。<br>3. 将档案管理方式由后台操作改为通过机器人私聊指令进行交互。 |